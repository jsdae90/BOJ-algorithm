### Programmers - Lv3 - 예산

#### 문제 설명

---

국가의 역할 중 하나는 여러 지방의 예산요청을 심사하여 국가의 예산을 분배하는 것입니다. 국가예산의 총액은 미리 정해져 있어서 모든 예산요청을 배정해 주기는 어려울 수도 있습니다. 그래서 정해진 총액 이하에서 **가능한 한 최대의** 총 예산을 다음과 같은 방법으로 배정합니다.

```
1. 모든 요청이 배정될 수 있는 경우에는 요청한 금액을 그대로 배정합니다.
2. 모든 요청이 배정될 수 없는 경우에는 특정한 정수 상한액을 계산하여 그 이상인 예산요청에는 모두 상한액을 배정합니다. 
   상한액 이하의 예산요청에 대해서는 요청한 금액을 그대로 배정합니다. 
```

예를 들어, 전체 국가예산이 485이고 4개 지방의 예산요청이 각각 120, 110, 140, 150일 때, 상한액을 127로 잡으면 위의 요청들에 대해서 각각 120, 110, 127, 127을 배정하고 그 합이 484로 가능한 최대가 됩니다.
각 지방에서 요청하는 예산이 담긴 배열 budgets과 총 예산 M이 매개변수로 주어질 때, 위의 조건을 모두 만족하는 상한액을 return 하도록 solution 함수를 작성해주세요.



<br>



#### 제한 사항

----

- 지방의 수는 3 이상 10,000 이하인 자연수입니다.
- 각 지방에서 요청하는 예산은 1 이상 100,000 이하인 자연수입니다.
- 총 예산은 `지방의 수` 이상 1,000,000,000 이하인 자연수입니다.



<br>



#### 입출력 예

---

| budgets              | M    | return |
| -------------------- | ---- | ------ |
| [120, 110, 140, 150] | 485  | 127    |



<br>



#### 제출 코드

---

##### 제출 코드

```python
def solution(budgets, M):
    left, right = 0, max(budgets)
    answer = 0
    while left <= right:
        mid = (left + right) // 2
        tmp = [i if i < mid else mid for i in budgets]
        if sum(tmp) > M:
            right = mid-1
        elif sum(tmp) <= M:
            answer = mid
            left = mid+1
    return answer
```

처음 풀었을 때, budgets의 평균값으로부터 접근하여 조건들을 부합하고자 했었는데

효율성이 굉장히 타이트한 문제여서 효율성에서 점수를 얻지 못했다.

해당 문제의 키는 `Binary Search`로 접근하는 것이었다.

또한,  mid값을 구함에 있어 `//`를 사용함으로써 `(0 + 150) / 2`를 하면 `75.0`이지만

`(0 + 150) // 2`를 하면 `75`라는 정수형으로 반환되는걸 알았다.

더욱 자세히 말하자면, `(1 + 150) / 2`의 값은 `75.5`이지만

`//`는 **나누기 연산 후 소수점 이하의 수를 버리고 정수 부분만**을 구하기에 `75`값을 갖는다



<br>



##### 클린 코드

---

```python
def solution(budgets, M):
    left, right = 0, max(budgets)
    answer = 0
    while left <= right:
        mid = (left + right) // 2
        tmp = sum[i if i < mid else mid for i in budgets]
        if tmp > M:
            right = mid-1
        elif tmp <= M:
            answer = mid
            left = mid+1
    return answer
```

tmp를 구한 후 if, elif문 내 sum(tmp)를 사용하기에 tmp 자체에서 sum을 해주도록 변경하였다.



<br>



#### 문제 풀이

---

가장 먼저, `Binary Search`는 <u>상한값과 하한값이 정해져 있고, 그 사이 범위에서 최적의 값을 찾고자</u> 할때 사용한다.

그 후, 중간에 있는 값을 찾고 조건에 따라 범위를 좁혀나가며 탐색을 진행한다.

<br>

문제를 풀며, 가장 먼저 하한값(left)와 상한값(right)을 정한 후

left값이 right와 같거나 커질때까지 mid값을 구하고, budget 내 원소 중 mid보다 큰 값은 mid로 대체한 후

합이 M보다 크면 상한값 조정, M보다 작으면 left값을 조정하며 최적의 값을 찾는다.

